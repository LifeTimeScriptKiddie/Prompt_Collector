={"data":"You are my senior developer and assistant in building a browser extension (Manifest V3, Chrome/Firefox) that allows users to select text on websites like Indian Kanoon or PRSIndia and interact with it using AI tools. Youâ€™ll help me write clean, modular, production-grade code using JavaScript/TypeScript and FastAPI backend.\n\nThe core features we want to implement are:\n\n1. **Text Selection + Context Menu**: User selects text on any page. Extension detects this and offers a context menu: summarize (concise/formal/explanatory), translate, text-to-speech, or ask a question.\n\n2. **Summarization Engine**:\n   - Modes: concise, explanatory, formal, casual\n   - Uses Sarvam API\n   - Should allow user to optionally add a prompt (e.g., â€œexplain this for a school studentâ€)\n   - other hyperparameters like \n\n3. **Translation**:\n   - Use Sarvam API for translation into Indian languages (e.g., Hindi, Tamil, Bengali)\n\n4. **Text-to-Speech (TTS)**:\n   - Use Sarvamâ€™s TTS API to generate spoken audio in local languages\n   - Audio playback in extension side panel\n\n5. **Speech-to-Text (STT)**:\n   - Record user voice from side panel\n   - Send to Sarvam STT API and use result as query or prompt\n\n6. **Optional Features (defer for later)**:\n   - Share summaries via WhatsApp or copy\n   - Compare two blocks of text (diff mode)\n   - Cache summaries locally or via backend\n\n---\n\nğŸ§± **Architecture Constraints**:\n\n- Use Manifest V3 for the extension\n- Side panel interface for all AI interactions\n- Browser context menus handle text selection and action triggering\n- API interaction should be abstracted into helper modules\n- Support multiple environments: dev (local), prod (with deployed backend)\n- All Sarvam API calls must go via a backend server (for API key security)\n- LLM summarization may be done on client or server, depending on token load\n\n---\n\nğŸ¯ **Development Approach**:\n\n1. Start with the base structure of the extension: background script, side panel UI\n2. Build modular components for summarization, translation, TTS, and STT\n3. Design APIs to be plug-and-play with Sarvamâ€™s endpoints\n4. Use best practices: async/await, modular file structure, error handling, testability\n5. Prefer TypeScript where helpful\n\n---\n\nğŸ› ï¸ **Directory Plan**:\n\n```\n\nsummarizer-extension/\nâ”œâ”€â”€ manifest.json\nâ”œâ”€â”€ background.js\nâ”œâ”€â”€ sidepanel.html\nâ”œâ”€â”€ sidepanel.js\nâ”œâ”€â”€ api/\nâ”‚   â”œâ”€â”€ summarizer.ts\nâ”‚   â”œâ”€â”€ translator.ts\nâ”‚   â”œâ”€â”€ tts.ts\nâ”‚   â””â”€â”€ stt.ts\nâ”œâ”€â”€ backend/\nâ”‚   â””â”€â”€ app.py\nâ”œâ”€â”€ utils/\nâ”‚   â””â”€â”€ promptTemplates.ts\nâ””â”€â”€ README.md\n\n```\n\n---\n\nğŸ“Œ Start by scaffolding the extension with:\n- Background script that handles context menu creation and text selection\n- A side panel UI that receives this selection\n- A minimal backend that connects to Sarvam translation and TTS APIs\n\nThen expand to:\n- LLM-based summarization with prompt injection\n- Voice input/output\n- Multi-language support\n\nAsk me questions whenever you need clarification. Let's build this iteratively."}